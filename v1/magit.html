
<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML>
   <HEAD>
      <TITLE>
         hugh: blog
      </TITLE>
      <link rel="stylesheet" type="text/css" href="styles.css">

   </HEAD>
<BODY>


<!--     <div class="class1" style="background-color:#9BCB3B;">
      <p>Hi</p>
    </div>
    <div class="class2" style="background-color:#1AB99E;">
      <p>Aditya</p>
    </div>
    <div class="class3" style="background-color:#F36F25;">
      <p>This is Working!</p>
    </div> -->

    <div class="topbar">
      <div><center><h2 style="color:#f4c430">Hugh</h2></div>
      <ul>
        <li><a href="https://hughkelley.github.io/">Site</a></li>
        <!-- The spacing gets weird for multi-word content... -->
        <li><a href="home.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="school.html">School</a></li>
        <li><a href="work.html">Work</a></li>
        <li><a href="play.html">Play</a></li>
        <li><a href="blog.html">Blog</a></li>
        <li><a href="media.html">Media</a></li>
        <li><a href="misc.html">Misc</a></li>
      </ul>
    </div>
    <div class="content_window">
      <div class="sidebar">
        <!-- <center> -->
        <p class="center" style="color:#f4c430">Content Navigation</p>
        <ul>
          <center>
          <li style="list-style-type:none"><a href="home.html">version 1</a></li>
          <li style="list-style-type:none"><a href="../v2/home.html">version 2</a></li>
          <li style="list-style-type:none"><a href="../v3/home.html">version 3</a></li>
          <li style="list-style-type:none"><a href="../v4/home.html">version 4</a></li>
          <li style="list-style-type:none"><a href="../v5/home.html">version 5</a></li>
        </ul>
      </div>
      <div class="content">
        <div style="padding:10px;" >
<!-- ------------------------------- Content starts here ------------------------------------ -->
<h3>
Getting Started with Magit
</h3>
<h4>
  To Do
</h4>
<p>
  Write steps
  Test procedure myself
  Add pictures
  Format Code
  Link to magit docs
</p>
<p>
  Magit is a useful tool because it offers a better interface than git at the command line, allowing more information to be available at a given time, an interactive "status" page than what you get at the command line for instance. It doesn't have the downsides of full GUI git clients like Github desktop though, difficulty seeing the relationship between local and remote for instance.

  While the Magit documentation has all of the info necessary to get it going, it doesn't make it easy. In my opinion it's written for someone (and probably by someone) already very familiar with git. So it focuses on how it abstracts away from git rather than how to get things done with git using magit.  
</p>
<p>
  This post will therefore walk through exactly the steps necessary to make emacs your go to git interface using Magit.
</p>
<p>
  set up
<p>
<p>
  what do you need to be able to do for a basic workflow with git
  start magit
  clone a repo
  create a new branch
  make a change
  save the change
  run git on the repo
  stage the change
  commit the change
  configure the new branch
  push the change to remote. 
</p>
<p>
  This obviously ignores the most important thing about git, the ability to actual control differences between versions. Still, I think this tutorial is useful because it is the absolute minimum set of commands you need to be able to use git within emacs using magit. A user that can follow this basic workflow is much better positioned to learn the more intricate operations from the manual pages. 
</p>
<p>
  To install and set up magit:

  M-x list_packages should produce a buffer listing all of the packages available through melpa.
  C-s will allow you so search for a string in that buffer. after C-s type magit and use C-s to move through the results sequentially until you find the entry for magit. Click on magit and in the buffer that opens specific to the magit package click install.
</p>
<p>
  You will then want to add (global-set-key (kbd "C-x g") 'magit-status) and
  (global-set-key (kbd "C-x M-g") 'magit-dispatch) to your emacs init file. Once those are added, save with C-x s and refresh by evaulating that buffer again using M-x eval-buffer (there is a shroter version of this M-x ev-b but in my opinion saving a few key strokes isn't worth using an abbreviation that isn't very intuitive.)
</p>
<p>
  Now you have magit installed and ready to use. Navigate to a directory of your choice, something like ~/code/ which is where I keep a lot of my programming repositories. On Windows this could be C\Users\Hugh\Documents\Code for example. You can do that by typing C-x D and editing the path shown in the emacs status buffer before hitting enter/RET.
</p>
<p>
  Go to Github, make an account if necessary, and create a repo, which I'll call test. When creating the repo, use the option to create it with a README.md file. This is for two reasons, git doesn't like empty directories, and any good repo should have a readme.md document explaining what the repo is for so just make it a habit to include one. Don't create a .gitignore file. Once the repo is created, copy the path by clickin the (probably green) button that says clone or download and copy the SSH or HTTPS link for cloning the repo, use the HTTPS link unless you know you have an ssh connection to github set up already.
</p>
<p>  
  Then type C-x M-g to run magit-dispatch using the keybinding we set up earlier. This will present you with a list of options for what Magit calls "suffixes". Enter suffix C, for Clone and paste in the link from github, probably using C-y. hit enter/RET to clone the repo.
</p>
<p>
  Now that the repo is cloned we can access magit using the more standard approach, running magit-status from a file or directory within the repo using the C-x g keybinding we set up earlier. Once you're in the magit buffer, type b, the branch prefix, and you'll see a list of options for working with branches. Type c to create a new branch. First, you're asked what state the new branch should start from. In this case start from "master" but it's possible you might want to start from "dev" or another like "issue_1". So type mast, use tab to autocomplete and when asked, name the new branch "test".
</p>
<p>
  Now in the magit buffer, you'll see that "head" is at the "test" branch at the last commit to the "master" branch that we created the test branch from. Repeat this procedure so that you have three branches, master, test, and test_1 and head is on test_1. 
</p>
<p>
  Now open the README.md file in the repo using C-x C-f and navigating to the file's path from wherever emacs starts you. Make some change to the readme file, for instance adding the text "change 1" below the repo name.
</p>
<P>
  Now return to magit, check the repo status and save the file you just edited with a single command, C_x g. You'll be asked to save the file, type y, and after a pause, shown the magit buffer with a single unstaged file, README.md.
</p>
<p>
  Bring your cursor to the line of the unstaged file and press s to stage it. After a pause, put the cursor on the file again, now under staged files and type u which is how you can unstage a file. Stage that file again with s, and then begin the commit process by typing c with the cursor on the staged file. You'll see what is now a hopefully familiar list of suffix options and complete the commit command by typing another c. Magit then runs the git "diff" function on the files staged and presents you with two buffers. One will show the output of diff for the file with your new line in green. The other will offer you the chance to add a commit message. Add a brief message and finish the commit using C-c C-c. (The C-c C-c command is a common way to complete a message like this across emacs modes, Org-mode uses it too for instance.)

<p>
  The next step is to push the new commit. Begin this by typing the prefix P which pulls up the menu of suffix options. The two important options to be aware of are the p push to remote option and the u upstream option. This distinction is often missed using git from a terminal emulator but it's very useful to learn, particularly if you are contributing to a relatively large project that will probably more ahead of you while you are working on an issue. 

  The remote is meant to be the remote copy of your new local branch. Upstream is meant to be the branch that your current local branch evolves from. Chances are that whatever branch you used as the beginning of the current branch when you created it is the branch you want as upstream remote.
</p>
<p> type p to push remote, setting that. Magit will ask for input and type org and hit tab. It should autocomplete to "origin". Hit enter/RET and magit will push your changes to the remote repo, creating a new branch on the remote, named after the local branch that you're pushing from. To confirm this. open github in a webbrowser and look at the branches in your repo. There should be a new branch called test_1.
<p>
  Open a pull request in github to merge test_1 into master and use your write privileges to confirm the merge. This leaves us with a change to remote that we don't have locally. Return to emacs.
</p>
<p>
  In emacs, open the magit buffer for the repo again.  Checkout the master branch if needed and fetch changes from the remote repo using f p. That will bring your master branch up to date with the remote master branch, and the local and remote test_1 branches.

</p>
<p>
  Now imagine that we want to work on the issue that the original test branch is intended for. The current state is that there is a new commit included in the local master and test_1 branches, and the remote master and test_1 branches, but not in either the local or remote test branches. This is where the upstream is useful.
</p>
<p>
  Checkout branch test. enter f as you did with master but instead of typing p, type u, in order to fetch changes from the upstream setting that if necessary. When prompted enter master.

  Fetch the last commit from master and merge it into the test branch. Then commit that change to the remote test branch creating that branch  by pushing using p and p and origin. Now everything is up to date.
</p>
<p>
  You now know how to clone a repo, create a new branch, make changes, stage commit and push the changes and update other branches with a pull request that was merged into the master branch of the remote repo. There is plenty git functionality to learn but I think that this workflow covers the core of what you need to know and if you can get through these functions, you are in a good place to begin exploring git and solving problems that arise as you work with multiple versions of a single project.
</p>
<p>
  Thanks very much for reading and I hope your understanding of git, emacs, and magit have improved!
</p>

  
<!-- ------------------------------- Content ends here   ------------------------------------- -->

        </div>
      </div>
    </div>
    <div class="bottombar">
      <h4 style="color:#f4c430" class="center">Contact</h4>
      <ul>
        <li class="bottom-text">(202) 499-8852</li>
        <li class="bottom-text">850 Quincy St NW Washington, DC 20011</li>
        <li><a href="hghklly@gmail.com">hghklly@gmail.com</a></li>
        <li><a href="https://github.com/HughKelley/HughKelley.github.io">Source Repo</a></li>
      </ul>
    </div>



<!-- <div style="float;left;width:300px;display:inline;height:100vh;border:">
  How to get the div to be the full height of the window?
</div> -->
<!-- 
<span style="width:150px;height:100px;background-color:red;" > first span test </span> -->

<!-- <span style="width:600px;background-color:blue;" > second span test
  <br>

  second span second line test. 

</span>

<span>  -->



<!-- <div class=top>
  <span>
    <p> test text</p>
  </span>
  <span>
    <p> test text</p>
  </span>
</div>


<div class=test> 
  <p> test text</p>
</div> -->



<!-- 
   <H2>Hi!</H2>
   <P>Thanks for visiting my page</P>


  <H1> Plans </H1>

<p>the plan is to build a personal website with only HTML and CSS

Once that's basically done, I'll add in some fancy stuff. 

 </p>

<h1>Links </h1>

<p>
<a href="work.html">link to work page</a>
<br>
<a href="education.html">link to edu page</a>



</p>

</span>
 -->

<!--   <div id="like_button_container"></div>-->



     <!-- Load React. -->
  <!-- Note: when deploying, replace "development.js" with "production.min.js". -->
<!--  <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>-->
<!--  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>-->

  <!-- Load our React component. -->
<!--  <script src="like_button.js"></script> -->
     
</BODY>
</HTML>
